---
layout: post
title: "Manager Portal FE í”„ë¡œì íŠ¸ ìƒì„±"
date: 2025-12-08 10:30:00 +0900
categories: [Blogging]
tags: [react, next, turborepo]
---

## 1. Turborepo ì´ˆê¸°í™”

í”„ë¡œì íŠ¸ëª…ì„ "manager-portal"ë¡œ ì§€ì •í•˜ê³ , íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ë¡œ **pnpm** ì„ íƒí•œë‹¤.
**npx create-turbo@latest** ì‹¤í–‰
```bash
linebird@localhost:~/workspace/arom_ktc$ npx create-turbo@latest
? Where would you like to create your Turborepo? manager-portal
? Which package manager do you want to use? pnpm

>>> Creating a new Turborepo with:

Application packages
 - apps/docs
 - apps/web
Library packages
 - packages/eslint-config
 - packages/typescript-config
 - packages/ui

>>> Success! Created your Turborepo at manager-portal

To get started:
- Change to the directory: cd manager-portal
- Enable Remote Caching (recommended): pnpm dlx turbo login
   - Learn more: https://turborepo.com/remote-cache

- Run commands with Turborepo:
   - pnpm run build: Build all apps and packages
   - pnpm run dev: Develop all apps and packages
   - pnpm run lint: Lint all apps and packages
- Run a command twice to hit cache
```

ğŸ“ ìƒì„± ë””ë ‰í† ë¦¬ êµ¬ì¡°
```bash
manager-portal/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ docs/                 # ê¸°ë³¸ ìƒì„± docs
â”‚   â””â”€â”€ web/                  # ê¸°ë³¸ ìƒì„± web
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ ui/                   # ê¸°ë³¸ ìƒì„± ui
â”‚   â”œâ”€â”€ typescrtipt-config/   # ê¸°ë³¸ TypeScript
â”‚   â””â”€â”€ eslint-config/        # ê¸°ë³¸ eslint
â”œâ”€â”€ turbo.json                # Turborepo ì„¤ì • íŒŒì¼
â”œâ”€â”€ package.json              # ë£¨íŠ¸ íŒ¨í‚¤ì§€ íŒŒì¼
â”œâ”€â”€ tsconfig.json             # ë£¨íŠ¸ tsconfig
â””â”€â”€ .npmrc
â””â”€â”€ .gitignore
â””â”€â”€ pnpm-lock.yaml
â””â”€â”€ pnpm-workspace.yaml
â””â”€â”€ README.md
```

## 2. Voltaë¡œ ë²„ì „ ê´€ë¦¬

VoltaëŠ” nvmì²˜ëŸ¼ node ë²„ì „ì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” Javascript Tool Managerì´ë‹¤  
**global packageì˜ ë²„ì „ì„ í”„ë¡œì íŠ¸ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤**  
Rustë¡œ ë§Œë“¤ì–´ì ¸ ìˆì–´ êµ‰ì¥íˆ ë¹ ë¥´ê³  Windows, Linux, MacOS ë¥¼ ì§€ì›í•œë‹¤  

[íŠ¹ì§•]
- ì†ë„
- ì›í™œí•œ í”„ë¡œì íŠ¸ë³„ ë²„ì „ ì „í™˜
- Windows ë° ëª¨ë“  Unix ì…¸ì„ í¬í•¨í•œ í¬ë¡œìŠ¤ í”Œë«í¼ ì§€ì›
- ë‹¤ì–‘í•œ íŒ¨í‚¤ì§€ ê´€ë¦¬ì ì§€ì›
- ì•ˆì •ì ì¸ ë„êµ¬ ì„¤ì¹˜ - ë…¸ë“œ ì—…ê·¸ë ˆì´ë“œ ì‹œë§ˆë‹¤ ë‹¤ì‹œ ì„¤ì¹˜í•  í•„ìš”ê°€ ì—†ìŒ
- ì‚¬ì´íŠ¸ë³„ ì‚¬ìš©ì ì •ì˜ë¥¼ ìœ„í•œ í™•ì¥ì„± í›„í¬

### Volta ì ìš©
voltaë¥¼ ì ìš©í•  í”„ë¡œì íŠ¸ì˜ package.jsonì— ì•„ë˜ì²˜ëŸ¼ voltaë¥¼ í‚¤ë¡œí•˜ì—¬ ì‚¬ìš©í•  ë²„ì „ë“¤ì„ ì¶”ê°€í•´ì£¼ë©´ ëœë‹¤. node, npm, yarn ë²„ì „ ëª¨ë‘ ëª…ì‹œê°€ ê°€ëŠ¥í•˜ë‹¤.

#### 1) ê¸°ë³¸ ë²„ì „ìœ¼ë¡œ volta ë²„ì „ ì¶”ê°€
```json
  "volta": {
    "node": "20.5.1",
    "npm": "9.8.1",
    "pnpm": "9.0.0"
  }
```
shellì—ì„œ ë²„ì „ í™•ì¸
```bash
linebird@localhost:~/workspace/arom_ktc/manager-portal$ node -v
v20.5.1
linebird@localhost:~/workspace/arom_ktc/manager-portal$ npm -v
9.8.1
linebird@localhost:~/workspace/arom_ktc/manager-portal$ pnpm -v
9.0.0
```

#### 2) ë‹¤ë¥¸ ë²„ì „ìœ¼ë¡œ voltal ë²„ì „ ë³€ê²½
```json
  "volta": {
    "node": "22.17.1",
    "npm": "10.9.2",
    "pnpm": "10.9.0"
  }
```
shellì—ì„œ ë²„ì „ í™•ì¸
```bash
linebird@localhost:~/workspace/arom_ktc/manager-portal$ node -v
v22.17.1
linebird@localhost:~/workspace/arom_ktc/manager-portal$ npm -v
10.9.2
linebird@localhost:~/workspace/arom_ktc/manager-portal$ pnpm -v
9.0.0
```
pnpmì˜ ë²„ì „ì´ ë³€ê²½ë˜ì§€ ì•Šì•˜ë‹¤. volta pin ëª…ë ¹ ìˆ˜í–‰
```bash
linebird@localhost:~/workspace/arom_ktc/manager-portal$ volta pin pnpm@10.9.0
error: Only node and yarn can be pinned in a project

Use `npm install` or `yarn add` to select a version of pnpm for this project.
```
ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ì›ì¸ì€
- volta pin ëª…ë ¹ì–´ëŠ” í•´ë‹¹ í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì— ìˆì„ ë•Œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” íŠ¹ì • **Node.js ë° Yarn ë²„ì „ì„ ì„¤ì •**í•˜ë„ë¡ ì„¤ê³„ë¨
- **pnpm** íŒ¨í‚¤ì§€ ê´€ë¦¬ìëŠ” í”„ë¡œì íŠ¸ë³„ ë²„ì „ì„ ì„¤ì •í•˜ëŠ” volta pin ëª…ë ¹ì—ì„œ ì§ì ‘ ì§€ì›ë˜ì§€ ì•ŠëŠ”ë‹¤

AIì˜ í•´ê²° ë°©ë²• ì œì‹œ(gemini)
> npmì´ë‚˜ Yarnì„ ì‚¬ìš©í•˜ì—¬ ê°œë°œ ì¢…ì†ì„±ì´ë‚˜ ì¼ë°˜ ì¢…ì†ì„±ìœ¼ë¡œ ì„¤ì¹˜í•´ì•¼ í•¨

1. yarnì„ ì‚¬ìš©í•˜ì—¬ pnpm install
   ```bash
   yarn add -D pnpm@10.9.0
   ```
2. npmì„ ì‚¬ìš©í•˜ì—¬ pnpm install
   ```bash
   npm install --save-dev pnpm@10.9.0
   ```

> 2ë²ˆì„ ìˆ˜í–‰í–ˆìœ¼ë‚˜ ì—ëŸ¬ ë°œìƒ
```bash
linebird@localhost:~/workspace/arom_ktc/manager-portal$ npm install --save-dev pnpm@10.9.0
npm error Cannot read properties of null (reading 'matches')
npm error A complete log of this run can be found in: /home/linebird/.npm/_logs/2025-12-08T02_10_48_076Z-debug-0.log
```

#### 3) pnpm ë²„ì „ ë³€ê²½ error í•´ê²°
í”„ë¡œì íŠ¸ì˜ package.jsonì—ì„œ packageManagerì˜ ë²„ì „ì„ ìˆ˜ì •í•˜ì—¬ í•´ê²°

```json
  "packageManager": "pnpm@10.9.0", <--- ì´ ë¶€ë¶„ ìˆ˜ì •
  "engines": {
    "node": ">=18"
  },
  "volta": {
    "node": "22.17.1",
    "npm": "10.9.2",
    "pnpm": "10.9.0"
  }
}
```
shell ê²°ê³¼
```bash
linebird@localhost:~/workspace/arom_ktc/manager-portal$ pnpm -v
10.9.0
```

## 3. manager-console next app ìƒì„±

ìƒˆë¡œìš´ manager-console appì„ ìƒì„±í•œë‹¤

1. ë””ë ‰í† ë¦¬ ìƒì„±
2. ìƒì„±ëœ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
3. npx create-next-app . --ts --eslint --tailwind --app --src-dir ì‹¤í–‰ 

ì‹¤ì œ ì‹¤í–‰ ì˜ˆ:
```bash
linebird@localhost:~/workspace/arom_ktc/manager-portal/apps$ mkdir manager-console
linebird@localhost:~/workspace/arom_ktc/manager-portal/apps$ cd manager-console/
linebird@localhost:~/workspace/arom_ktc/manager-portal/apps/manager-console$ npx create-next-app . --ts --eslint --tailwind --app --src-dir
âœ” Would you like to use React Compiler? â€¦ No / Yes
âœ” Would you like to customize the import alias (`@/*` by default)? â€¦ No / Yes
âœ” What import alias would you like configured? â€¦ @/*
Creating a new Next.js app in /home/linebird/workspace/arom_ktc/manager-portal/apps/manager-console.

Using npm.

Initializing project with template: app-tw 


Installing dependencies:
- next
- react
- react-dom

Installing devDependencies:
- @tailwindcss/postcss
- @types/node
- @types/react
- @types/react-dom
- babel-plugin-react-compiler
- eslint
- eslint-config-next
- tailwindcss
- typescript


added 359 packages, and audited 360 packages in 23s

142 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities

Generating route types...
âœ“ Types generated successfully

Success! Created manager-console at /home/linebird/workspace/arom_ktc/manager-portal/apps/manager-console
```

ë¹Œë“œ
```bash
linebird@localhost:~/workspace/arom_ktc/manager-portal/apps/manager-console$ turbo run build
turbo 2.6.3

 WARNING  Unable to calculate transitive closures: Workspace 'apps/manager-console' not found in lockfile.
â€¢ Packages in scope: manager-console
â€¢ Running build in 1 packages
â€¢ Remote caching disabled
â”Œâ”€ manager-console#build > cache miss, executing 654135e81c1e27d2 


> manager-console@0.1.0 build /home/linebird/workspace/arom_ktc/manager-portal/apps/manager-console
> next build

 âš  Warning: Next.js inferred your workspace root, but it may not be correct.
 We detected multiple lockfiles and selected the directory of /home/linebird/workspace/arom_ktc/manager-portal/pnpm-lock.yaml as the root directory.
 To silence this warning, set `turbopack.root` in your Next.js config, or consider removing one of the lockfiles if it's not needed.
   See https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack#root-directory for more information.
 Detected additional lockfiles: 
   * /home/linebird/workspace/arom_ktc/manager-portal/apps/manager-console/package-lock.json

   â–² Next.js 16.0.7 (Turbopack)

   Creating an optimized production build ...
 âœ“ Compiled successfully in 2.7s
 âœ“ Finished TypeScript in 1907.8ms    
 âœ“ Collecting page data using 11 workers in 381.2ms    
 âœ“ Generating static pages using 11 workers (4/4) in 457.5ms
 âœ“ Finalizing page optimization in 9.8ms    

Route (app)
â”Œ â—‹ /
â”” â—‹ /_not-found


â—‹  (Static)  prerendered as static content
â””â”€ manager-console#build â”€â”€

 Tasks:    1 successful, 1 total
Cached:    0 cached, 1 total
  Time:    7.214s
```

2ë²ˆì§¸ build
```bash
linebird@localhost:~/workspace/arom_ktc/manager-portal/apps/manager-console$ turbo run build
turbo 2.6.3

 WARNING  Unable to calculate transitive closures: Workspace 'apps/manager-console' not found in lockfile.
â€¢ Packages in scope: manager-console
â€¢ Running build in 1 packages
â€¢ Remote caching disabled
â”Œâ”€ manager-console#build > cache hit, replaying logs 654135e81c1e27d2 


> manager-console@0.1.0 build /home/linebird/workspace/arom_ktc/manager-portal/apps/manager-console
> next build

 âš  Warning: Next.js inferred your workspace root, but it may not be correct.
 We detected multiple lockfiles and selected the directory of /home/linebird/workspace/arom_ktc/manager-portal/pnpm-lock.yaml as the root directory.
 To silence this warning, set `turbopack.root` in your Next.js config, or consider removing one of the lockfiles if it's not needed.
   See https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack#root-directory for more information.
 Detected additional lockfiles: 
   * /home/linebird/workspace/arom_ktc/manager-portal/apps/manager-console/package-lock.json

   â–² Next.js 16.0.7 (Turbopack)

   Creating an optimized production build ...
 âœ“ Compiled successfully in 2.7s
 âœ“ Finished TypeScript in 1907.8ms    
 âœ“ Collecting page data using 11 workers in 381.2ms    
 âœ“ Generating static pages using 11 workers (4/4) in 457.5ms
 âœ“ Finalizing page optimization in 9.8ms    

Route (app)
â”Œ â—‹ /
â”” â—‹ /_not-found


â—‹  (Static)  prerendered as static content
â””â”€ manager-console#build â”€â”€

 Tasks:    1 successful, 1 total
Cached:    1 cached, 1 total
  Time:    108ms >>> FULL TURBO
```
ë‘ë²ˆì§¸ ë¹Œë“œëŠ” cacheë¥¼ ì‚¬ìš©í•´ì„œ ìˆ˜í–‰ë˜ì–´ 108ms ì‹œê°„ ê±¸ë¦¼


## 4. env-cmdë¥¼ í™œìš©í•œ í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

1. íŒ¨í‚¤ì§€ ì„¤ì¹˜
   ```bash
   pnpm add env-cmd
   ```
2. í™˜ê²½ë³„ íŒŒì¼ ìƒì„±
   .env.[NODE_DEV] íŒŒì¼ ìƒì„±
   1. .env.development íŒŒì¼ ìƒì„±
   2. .env.production íŒŒì¼ ìƒì„±
3. ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •
   ```bash
   "scripts": {
        "dev": "next dev -p 3000 --turbo",
        "build": "next build",
        "start:development": "env-cmd -f .env.development next start",
        "start:production": "env-cmd -f .env.production next start",
        "build:development": "env-cmd -f .env.development next build",
        "build:production": "env-cmd -f .env.production next build",
        "lint": "next lint"
   },
   ```

## 4. package install ì°¸ê³ 

> Radix UIë§Œ packages/uiì—ì„œ ì‚¬ìš©
> ê¸°íƒ€ ëŒ€ë¶€ë¶„ì€ manager-consoleì—ì„œ ì‚¬ìš©

### ìƒíƒœ ê´€ë¦¬ & ë°ì´í„° í˜ì¹­

- **TanStack Query v5** - ì„œë²„ ìƒíƒœ ê´€ë¦¬
- **Zustand v5** - í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ ê´€ë¦¬
- **Axios 1.8** - HTTP í´ë¼ì´ì–¸íŠ¸
> pnpm add @tanstack/react-query @tanstack/react-query-devtools @tanstack/react-table
> zustand axios


### UI & ìŠ¤íƒ€ì¼ë§

- **Tailwind CSS v4** - ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸ CSS
- **Radix UI** - í—¤ë“œë¦¬ìŠ¤ ì»´í¬ë„ŒíŠ¸                          <-- ../../ui ì—ì„œ ì‚¬ìš©ë¨
- **@kt-cloud-front/ui-react** - KT Cloud ë””ìì¸ ì‹œìŠ¤í…œ    <-- í˜„ì¬ ê¶Œí•œ ì—†ìŒ(ë°©í™”ë²½ í™•ì¸ ìš”ì²­í•œ ìƒíƒœ)
- **AG Grid** - ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë°ì´í„° ê·¸ë¦¬ë“œ

> pnpm add ag-grid-react ag-grid-community  
> pnpm add tailwindcss -D


### í¼ & ê²€ì¦

- **React Hook Form 7.55** - í¼ ìƒíƒœ ê´€ë¦¬
- **Zod 3.24** - ìŠ¤í‚¤ë§ˆ ê²€ì¦

> pnpm add react-hook-form zod

### í…ŒìŠ¤íŒ…

- **Jest** - ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- **Testing Library** - ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸
- **Storybook 9** - ì»´í¬ë„ŒíŠ¸ ê°œë°œ í™˜ê²½    <-- ì ìš©í•´ì•¼ í•  ì§€ ê²€í† 
- **Playwright** - E2E í…ŒìŠ¤íŠ¸            <--  ì ìš©í•´ì•¼ í•  ì§€ ê²€í† 
- **MSW 2** - API ëª¨í‚¹

> pnpm add jest storybook playwright msw ...

### ê¸°íƒ€

- sonner, jose, jsencrypt, clsx, lucide-react ...
